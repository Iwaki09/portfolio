<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Kanto</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
</head>
<body>
<svg id="map" style="background-color: #91c7ff;"></svg>

<script>
    (function() {

        // SVGの大きさ
        var width = 800;
        var height = 600;

        // 中心座標とスケール
        var projection = d3.geoMercator()
            .center([137, 38])
            .scale(1600)
            .translate([width / 2, height / 2]);

        var path = d3.geoPath().projection(projection);

        var svg = d3.select("#map")
            .attr("width", width)
            .attr("height", height);

        d3.json("./japan.json").then(function(data) {
            svg.selectAll("path")  
                .data(topojson.feature(data, data.objects.pref).features)
                .enter() // dataで入れた配列をそれぞれ以下のpathにしていく
                .append("path")
                .attr("d", path) // <path d="">に　path()の返り値を入れていく
                .attr("fill", "white")
                .attr("stroke", "#333333")
                .attr("stroke-width", 0.3)
                .on("click", function(d,i){//関東7県をクリックしたらその県の白地図を表示させる
                    if (d.properties.code === 8){//茨城
                        window.location.href = 'ibaraki.html';
                    }
                    else if(d.properties.code === 9){//栃木
                        window.location.href = 'tochigi.html';
                    }
                    else if(d.properties.code === 10){//群馬
                        window.location.href = 'gunma.html';
                    }
                    else if(d.properties.code === 11){//埼玉
                        window.location.href = 'saitama.html';
                    }
                    else if(d.properties.code === 12){//千葉
                        window.location.href = 'chiba.html';
                    }
                    else if(d.properties.code === 13){//東京
                        window.location.href = 'tokyo.html';
                    }
                    else if(d.properties.code === 14) {//神奈川
                        window.location.href = 'kanagawa.html';
                    }
                });
        });

    })();

</script>
</body>
</html>